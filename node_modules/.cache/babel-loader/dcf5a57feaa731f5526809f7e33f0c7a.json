{"ast":null,"code":"import _toConsumableArray from\"/home/navin/MyReactApps/budgettieWithoutAuth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/home/navin/MyReactApps/budgettieWithoutAuth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import*as actionTypes from'../actions/actionTypes';import{updateObject,checkValidity,percentageCalculator}from'../../Utility/Utility';var initialState={data:{inc:{description:{value:'',rules:{isRequired:true}},value:{value:'',rules:{isRequired:true,isNumeric:true}},type:'inc'},exp:{description:{value:'',rules:{isRequired:true}},value:{value:'',rules:{isRequired:true,isNumeric:true}},type:'exp'}},showSummary:false,isIncome:true,event:null,isValid:false,budgetSummary:{inc:[],exp:[]},totalBudget:0,totalIncome:0,totalExpenses:0,totalPercentage:null};var clearInputData=function clearInputData(state,action){var updatedIncDes=updateObject(state.data.inc.description,{value:''});var updatedIncVal=updateObject(state.data.inc.value,{value:''});var updatedInc=updateObject(state.data.inc,{description:updatedIncDes,value:updatedIncVal});var updatedExpDes=updateObject(state.data.exp.description,{value:''});var updatedExpVal=updateObject(state.data.exp.value,{value:''});var updatedExp=updateObject(state.data.exp,{description:updatedExpDes,value:updatedExpVal});return updateObject(state.data,{inc:updatedInc,exp:updatedExp});};var takeInput=function takeInput(state,action){var updatedIncExpType=updateObject(state.data[action.payLoad.incExp][action.payLoad.type],{value:action.payLoad.event.target.value});var updatedIncExp=updateObject(state.data[action.payLoad.incExp],_defineProperty({},action.payLoad.type,updatedIncExpType));var updatedData=updateObject(state.data,_defineProperty({},action.payLoad.incExp,updatedIncExp));var isValid=false;if(checkValidity(updatedData[action.payLoad.incExp].description.value,updatedData[action.payLoad.incExp].description.rules)&&checkValidity(updatedData[action.payLoad.incExp].value.value,updatedData[action.payLoad.incExp].value.rules)){isValid=true;}return updateObject(state,{data:updatedData,event:action.payLoad.event,isValid:isValid});};var addItem=function addItem(state,action){action.event.preventDefault();var id;if(state.budgetSummary[action.data.type].length===0){id=0;}else{id=state.budgetSummary[action.data.type][state.budgetSummary[action.data.type].length-1].id+1;}var budget=state.totalBudget;var income=state.totalIncome;var expense=state.totalExpenses;var updatedBudgetSummary;if(action.data.type==='inc'){budget=budget+parseFloat(action.data.value.value);income=income+parseFloat(action.data.value.value);var incBudget={des:action.data.description.value,val:parseFloat(action.data.value.value).toFixed(2),id:id};var incBudgetSummary=_toConsumableArray(state.budgetSummary.inc);incBudgetSummary.push(incBudget);var expBudgetArr=_toConsumableArray(state.budgetSummary.exp);var expBudgetSummary;if(expBudgetArr.length){expBudgetSummary=expBudgetArr.map(function(expBudget){var perc=percentageCalculator(expBudget.val,income);return updateObject(expBudget,{perc:perc});});updatedBudgetSummary=updateObject(state.budgetSummary,{inc:incBudgetSummary,exp:expBudgetSummary});}else{updatedBudgetSummary=updateObject(state.budgetSummary,{inc:incBudgetSummary});}}if(action.data.type==='exp'){budget=budget-parseFloat(action.data.value.value);expense=expense+parseFloat(action.data.value.value);var expBudget={des:action.data.description.value,val:parseFloat(action.data.value.value).toFixed(2),id:id,perc:percentageCalculator(action.data.value.value,income)};var _expBudgetSummary=_toConsumableArray(state.budgetSummary.exp);_expBudgetSummary.push(expBudget);updatedBudgetSummary=updateObject(state.budgetSummary,{exp:_expBudgetSummary});}var percentage=percentageCalculator(expense,income);Array.from(document.querySelectorAll(\"input\")).forEach(function(input){return input.value=null;});return updateObject(state,{budgetSummary:updatedBudgetSummary,data:clearInputData(state,action),totalBudget:budget,totalIncome:income,totalExpenses:expense,totalPercentage:percentage,isItemAdded:true,isValid:false});};var removeItem=function removeItem(state,action){var incExp=_toConsumableArray(state.budgetSummary[action.payLoad.type]);var updatedIncExpSummaryRemove=incExp.filter(function(data){return data.id!==action.payLoad.id;});var updatedBudgetSummaryRemove=updateObject(state.budgetSummary,_defineProperty({},action.payLoad.type,updatedIncExpSummaryRemove));var budgetRemove=state.totalBudget;var incomeRemove=state.totalIncome;var expenseRemove=state.totalExpenses;var data=incExp.filter(function(data){return data.id===action.payLoad.id;});if(action.payLoad.type==='inc'){budgetRemove=budgetRemove-parseFloat(data[0].val);incomeRemove=incomeRemove-parseFloat(data[0].val);var expBudgetArr=_toConsumableArray(state.budgetSummary.exp);var expBudgetSummary=expBudgetArr.map(function(expBudget){var perc=percentageCalculator(expBudget.val,incomeRemove);return updateObject(expBudget,{perc:perc});});updatedBudgetSummaryRemove=updateObject(state.budgetSummary,{exp:expBudgetSummary,inc:updatedIncExpSummaryRemove});}if(action.payLoad.type==='exp'){budgetRemove=budgetRemove+parseFloat(data[0].val);expenseRemove=expenseRemove-parseFloat(data[0].val);}var percentageRemove=percentageCalculator(expenseRemove,incomeRemove);return updateObject(state,{budgetSummary:updatedBudgetSummaryRemove,totalBudget:budgetRemove,totalIncome:incomeRemove,totalExpenses:expenseRemove,totalPercentage:percentageRemove});};var hideSummary=function hideSummary(state,action){return updateObject(state,{showSummary:false});};var showSummary=function showSummary(state,action){return updateObject(state,{showSummary:true});};var switchIncExp=function switchIncExp(state,action){var isInc=state.isIncome;return updateObject(state,{isIncome:!isInc});};var reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case actionTypes.TAKE_INPUT:return takeInput(state,action);case actionTypes.SHOW_SUMMARY:return showSummary(state,action);case actionTypes.HIDE_SUMMARY:return hideSummary(state,action);case actionTypes.SWITCH_INC_EXP:return switchIncExp(state,action);case actionTypes.ADD_iTEM:return addItem(state,action);case actionTypes.REMOVE_iTEM:return removeItem(state,action);default:return state;}};export default reducer;","map":{"version":3,"sources":["/home/navin/MyReactApps/budgettieWithoutAuth/src/store/reducers/budgetBuilder.js"],"names":["actionTypes","updateObject","checkValidity","percentageCalculator","initialState","data","inc","description","value","rules","isRequired","isNumeric","type","exp","showSummary","isIncome","event","isValid","budgetSummary","totalBudget","totalIncome","totalExpenses","totalPercentage","clearInputData","state","action","updatedIncDes","updatedIncVal","updatedInc","updatedExpDes","updatedExpVal","updatedExp","takeInput","updatedIncExpType","payLoad","incExp","target","updatedIncExp","updatedData","addItem","preventDefault","id","length","budget","income","expense","updatedBudgetSummary","parseFloat","incBudget","des","val","toFixed","incBudgetSummary","push","expBudgetArr","expBudgetSummary","map","expBudget","perc","percentage","Array","from","document","querySelectorAll","forEach","input","isItemAdded","removeItem","updatedIncExpSummaryRemove","filter","updatedBudgetSummaryRemove","budgetRemove","incomeRemove","expenseRemove","percentageRemove","hideSummary","switchIncExp","isInc","reducer","TAKE_INPUT","SHOW_SUMMARY","HIDE_SUMMARY","SWITCH_INC_EXP","ADD_iTEM","REMOVE_iTEM"],"mappings":"gVAAA,MAAO,GAAKA,CAAAA,WAAZ,KAA6B,wBAA7B,CACA,OAASC,YAAT,CAAuBC,aAAvB,CAAsCC,oBAAtC,KAAkE,uBAAlE,CAEA,GAAMC,CAAAA,YAAY,CAAG,CACbC,IAAI,CAAE,CACFC,GAAG,CAAE,CACDC,WAAW,CAAE,CACTC,KAAK,CAAE,EADE,CAETC,KAAK,CAAE,CACHC,UAAU,CAAE,IADT,CAFE,CADZ,CAODF,KAAK,CAAE,CACHA,KAAK,CAAE,EADJ,CAEHC,KAAK,CAAE,CACHC,UAAU,CAAE,IADT,CAEHC,SAAS,CAAE,IAFR,CAFJ,CAPN,CAcDC,IAAI,CAAE,KAdL,CADH,CAiBFC,GAAG,CAAE,CACDN,WAAW,CAAE,CACTC,KAAK,CAAE,EADE,CAETC,KAAK,CAAE,CACHC,UAAU,CAAE,IADT,CAFE,CADZ,CAODF,KAAK,CAAE,CACHA,KAAK,CAAE,EADJ,CAEHC,KAAK,CAAE,CACHC,UAAU,CAAE,IADT,CAEHC,SAAS,CAAE,IAFR,CAFJ,CAPN,CAcDC,IAAI,CAAE,KAdL,CAjBH,CADO,CAmCbE,WAAW,CAAE,KAnCA,CAoCbC,QAAQ,CAAE,IApCG,CAqCbC,KAAK,CAAE,IArCM,CAsCbC,OAAO,CAAE,KAtCI,CAuCbC,aAAa,CAAE,CACXZ,GAAG,CAAE,EADM,CAEXO,GAAG,CAAE,EAFM,CAvCF,CA2CbM,WAAW,CAAE,CA3CA,CA4CbC,WAAW,CAAE,CA5CA,CA6CbC,aAAa,CAAE,CA7CF,CA8CbC,eAAe,CAAE,IA9CJ,CAArB,CAiDA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,KAAD,CAAQC,MAAR,CAAmB,CACtC,GAAMC,CAAAA,aAAa,CAAGzB,YAAY,CAACuB,KAAK,CAACnB,IAAN,CAAWC,GAAX,CAAeC,WAAhB,CAA6B,CAC3DC,KAAK,CAAE,EADoD,CAA7B,CAAlC,CAGA,GAAMmB,CAAAA,aAAa,CAAG1B,YAAY,CAACuB,KAAK,CAACnB,IAAN,CAAWC,GAAX,CAAeE,KAAhB,CAAuB,CACrDA,KAAK,CAAE,EAD8C,CAAvB,CAAlC,CAGA,GAAMoB,CAAAA,UAAU,CAAG3B,YAAY,CAACuB,KAAK,CAACnB,IAAN,CAAWC,GAAZ,CAAiB,CAC5CC,WAAW,CAAEmB,aAD+B,CAE5ClB,KAAK,CAAEmB,aAFqC,CAAjB,CAA/B,CAKA,GAAME,CAAAA,aAAa,CAAG5B,YAAY,CAACuB,KAAK,CAACnB,IAAN,CAAWQ,GAAX,CAAeN,WAAhB,CAA6B,CAC3DC,KAAK,CAAE,EADoD,CAA7B,CAAlC,CAGA,GAAMsB,CAAAA,aAAa,CAAG7B,YAAY,CAACuB,KAAK,CAACnB,IAAN,CAAWQ,GAAX,CAAeL,KAAhB,CAAuB,CACrDA,KAAK,CAAE,EAD8C,CAAvB,CAAlC,CAGA,GAAMuB,CAAAA,UAAU,CAAG9B,YAAY,CAACuB,KAAK,CAACnB,IAAN,CAAWQ,GAAZ,CAAiB,CAC5CN,WAAW,CAAEsB,aAD+B,CAE5CrB,KAAK,CAAEsB,aAFqC,CAAjB,CAA/B,CAKA,MAAO7B,CAAAA,YAAY,CAACuB,KAAK,CAACnB,IAAP,CAAa,CAC5BC,GAAG,CAAEsB,UADuB,CAE5Bf,GAAG,CAAEkB,UAFuB,CAAb,CAAnB,CAIH,CA3BD,CA6BA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACR,KAAD,CAAQC,MAAR,CAAmB,CACjC,GAAMQ,CAAAA,iBAAiB,CAAGhC,YAAY,CAACuB,KAAK,CAACnB,IAAN,CAAWoB,MAAM,CAACS,OAAP,CAAeC,MAA1B,EAAkCV,MAAM,CAACS,OAAP,CAAetB,IAAjD,CAAD,CAAyD,CAC3FJ,KAAK,CAAEiB,MAAM,CAACS,OAAP,CAAelB,KAAf,CAAqBoB,MAArB,CAA4B5B,KADwD,CAAzD,CAAtC,CAGA,GAAM6B,CAAAA,aAAa,CAAGpC,YAAY,CAACuB,KAAK,CAACnB,IAAN,CAAWoB,MAAM,CAACS,OAAP,CAAeC,MAA1B,CAAD,oBACrBV,MAAM,CAACS,OAAP,CAAetB,IADM,CACCqB,iBADD,EAAlC,CAGA,GAAMK,CAAAA,WAAW,CAAGrC,YAAY,CAACuB,KAAK,CAACnB,IAAP,oBACnBoB,MAAM,CAACS,OAAP,CAAeC,MADI,CACKE,aADL,EAAhC,CAIA,GAAIpB,CAAAA,OAAO,CAAG,KAAd,CACA,GAAGf,aAAa,CAACoC,WAAW,CAACb,MAAM,CAACS,OAAP,CAAeC,MAAhB,CAAX,CAAmC5B,WAAnC,CAA+CC,KAAhD,CACA8B,WAAW,CAACb,MAAM,CAACS,OAAP,CAAeC,MAAhB,CAAX,CAAmC5B,WAAnC,CAA+CE,KAD/C,CAAb,EAECP,aAAa,CAACoC,WAAW,CAACb,MAAM,CAACS,OAAP,CAAeC,MAAhB,CAAX,CAAmC3B,KAAnC,CAAyCA,KAA1C,CACD8B,WAAW,CAACb,MAAM,CAACS,OAAP,CAAeC,MAAhB,CAAX,CAAmC3B,KAAnC,CAAyCC,KADxC,CAFjB,CAGiE,CACjDQ,OAAO,CAAG,IAAV,CACf,CAED,MAAOhB,CAAAA,YAAY,CAACuB,KAAD,CAAQ,CACvBnB,IAAI,CAAEiC,WADiB,CAEvBtB,KAAK,CAAES,MAAM,CAACS,OAAP,CAAelB,KAFC,CAGvBC,OAAO,CAAEA,OAHc,CAAR,CAAnB,CAKH,CAxBD,CA0BA,GAAMsB,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACf,KAAD,CAAQC,MAAR,CAAmB,CAC/BA,MAAM,CAACT,KAAP,CAAawB,cAAb,GACA,GAAIC,CAAAA,EAAJ,CACA,GAAIjB,KAAK,CAACN,aAAN,CAAoBO,MAAM,CAACpB,IAAP,CAAYO,IAAhC,EAAsC8B,MAAtC,GAAiD,CAArD,CAAwD,CACpDD,EAAE,CAAG,CAAL,CACH,CAFD,IAEO,CACHA,EAAE,CAAGjB,KAAK,CAACN,aAAN,CAAoBO,MAAM,CAACpB,IAAP,CAAYO,IAAhC,EAAsCY,KAAK,CAACN,aAAN,CAAoBO,MAAM,CAACpB,IAAP,CAAYO,IAAhC,EAAsC8B,MAAtC,CAA+C,CAArF,EAAwFD,EAAxF,CAA6F,CAAlG,CACH,CAED,GAAIE,CAAAA,MAAM,CAAGnB,KAAK,CAACL,WAAnB,CACA,GAAIyB,CAAAA,MAAM,CAAGpB,KAAK,CAACJ,WAAnB,CACA,GAAIyB,CAAAA,OAAO,CAAGrB,KAAK,CAACH,aAApB,CACA,GAAIyB,CAAAA,oBAAJ,CAEA,GAAIrB,MAAM,CAACpB,IAAP,CAAYO,IAAZ,GAAqB,KAAzB,CAAgC,CAC5B+B,MAAM,CAAGA,MAAM,CAAGI,UAAU,CAACtB,MAAM,CAACpB,IAAP,CAAYG,KAAZ,CAAkBA,KAAnB,CAA5B,CACAoC,MAAM,CAAGA,MAAM,CAAGG,UAAU,CAACtB,MAAM,CAACpB,IAAP,CAAYG,KAAZ,CAAkBA,KAAnB,CAA5B,CACA,GAAMwC,CAAAA,SAAS,CAAG,CACdC,GAAG,CAAExB,MAAM,CAACpB,IAAP,CAAYE,WAAZ,CAAwBC,KADf,CAEd0C,GAAG,CAAEH,UAAU,CAACtB,MAAM,CAACpB,IAAP,CAAYG,KAAZ,CAAkBA,KAAnB,CAAV,CAAoC2C,OAApC,CAA4C,CAA5C,CAFS,CAGdV,EAAE,CAAEA,EAHU,CAAlB,CAKA,GAAMW,CAAAA,gBAAgB,oBACf5B,KAAK,CAACN,aAAN,CAAoBZ,GADL,CAAtB,CAGA8C,gBAAgB,CAACC,IAAjB,CAAsBL,SAAtB,EAEA,GAAMM,CAAAA,YAAY,oBACX9B,KAAK,CAACN,aAAN,CAAoBL,GADT,CAAlB,CAIA,GAAI0C,CAAAA,gBAAJ,CACA,GAAID,YAAY,CAACZ,MAAjB,CAAyB,CACrBa,gBAAgB,CAAGD,YAAY,CAACE,GAAb,CAAiB,SAAAC,SAAS,CAAI,CAC7C,GAAMC,CAAAA,IAAI,CAAGvD,oBAAoB,CAACsD,SAAS,CAACP,GAAX,CAAgBN,MAAhB,CAAjC,CACA,MAAO3C,CAAAA,YAAY,CAACwD,SAAD,CAAY,CAC3BC,IAAI,CAAEA,IADqB,CAAZ,CAAnB,CAGH,CALkB,CAAnB,CAMAZ,oBAAoB,CAAG7C,YAAY,CAACuB,KAAK,CAACN,aAAP,CAAsB,CACrDZ,GAAG,CAAE8C,gBADgD,CAErDvC,GAAG,CAAE0C,gBAFgD,CAAtB,CAAnC,CAIH,CAXD,IAWO,CACHT,oBAAoB,CAAG7C,YAAY,CAACuB,KAAK,CAACN,aAAP,CAAsB,CACrDZ,GAAG,CAAE8C,gBADgD,CAAtB,CAAnC,CAGH,CACJ,CAED,GAAI3B,MAAM,CAACpB,IAAP,CAAYO,IAAZ,GAAqB,KAAzB,CAAgC,CAC5B+B,MAAM,CAAGA,MAAM,CAAGI,UAAU,CAACtB,MAAM,CAACpB,IAAP,CAAYG,KAAZ,CAAkBA,KAAnB,CAA5B,CACAqC,OAAO,CAAGA,OAAO,CAAGE,UAAU,CAACtB,MAAM,CAACpB,IAAP,CAAYG,KAAZ,CAAkBA,KAAnB,CAA9B,CACA,GAAMiD,CAAAA,SAAS,CAAG,CACdR,GAAG,CAAExB,MAAM,CAACpB,IAAP,CAAYE,WAAZ,CAAwBC,KADf,CAEd0C,GAAG,CAAEH,UAAU,CAACtB,MAAM,CAACpB,IAAP,CAAYG,KAAZ,CAAkBA,KAAnB,CAAV,CAAoC2C,OAApC,CAA4C,CAA5C,CAFS,CAGdV,EAAE,CAAEA,EAHU,CAIdiB,IAAI,CAAEvD,oBAAoB,CAACsB,MAAM,CAACpB,IAAP,CAAYG,KAAZ,CAAkBA,KAAnB,CAA0BoC,MAA1B,CAJZ,CAAlB,CAMA,GAAMW,CAAAA,iBAAgB,oBACf/B,KAAK,CAACN,aAAN,CAAoBL,GADL,CAAtB,CAGA0C,iBAAgB,CAACF,IAAjB,CAAsBI,SAAtB,EACAX,oBAAoB,CAAG7C,YAAY,CAACuB,KAAK,CAACN,aAAP,CAAsB,CACrDL,GAAG,CAAE0C,iBADgD,CAAtB,CAAnC,CAGH,CAED,GAAMI,CAAAA,UAAU,CAAGxD,oBAAoB,CAAC0C,OAAD,CAAUD,MAAV,CAAvC,CAEAgB,KAAK,CAACC,IAAN,CAAWC,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,CAAX,EACCC,OADD,CACS,SAAAC,KAAK,QAAKA,CAAAA,KAAK,CAACzD,KAAN,CAAc,IAAnB,EADd,EAKA,MAAOP,CAAAA,YAAY,CAACuB,KAAD,CAAQ,CACvBN,aAAa,CAAE4B,oBADQ,CAEvBzC,IAAI,CAAEkB,cAAc,CAACC,KAAD,CAAQC,MAAR,CAFG,CAGvBN,WAAW,CAAEwB,MAHU,CAIvBvB,WAAW,CAAEwB,MAJU,CAKvBvB,aAAa,CAAEwB,OALQ,CAMvBvB,eAAe,CAAEqC,UANM,CAOvBO,WAAW,CAAE,IAPU,CAQvBjD,OAAO,CAAE,KARc,CAAR,CAAnB,CAUH,CArFD,CAuFA,GAAMkD,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAC3C,KAAD,CAAQC,MAAR,CAAmB,CAClC,GAAMU,CAAAA,MAAM,oBACLX,KAAK,CAACN,aAAN,CAAoBO,MAAM,CAACS,OAAP,CAAetB,IAAnC,CADK,CAAZ,CAGA,GAAMwD,CAAAA,0BAA0B,CAAGjC,MAAM,CAACkC,MAAP,CAAc,SAAAhE,IAAI,QAAIA,CAAAA,IAAI,CAACoC,EAAL,GAAYhB,MAAM,CAACS,OAAP,CAAeO,EAA/B,EAAlB,CAAnC,CACA,GAAI6B,CAAAA,0BAA0B,CAAGrE,YAAY,CAACuB,KAAK,CAACN,aAAP,oBACxCO,MAAM,CAACS,OAAP,CAAetB,IADyB,CAClBwD,0BADkB,EAA7C,CAIA,GAAIG,CAAAA,YAAY,CAAG/C,KAAK,CAACL,WAAzB,CACA,GAAIqD,CAAAA,YAAY,CAAGhD,KAAK,CAACJ,WAAzB,CACA,GAAIqD,CAAAA,aAAa,CAAGjD,KAAK,CAACH,aAA1B,CACA,GAAMhB,CAAAA,IAAI,CAAG8B,MAAM,CAACkC,MAAP,CAAc,SAAAhE,IAAI,QAAIA,CAAAA,IAAI,CAACoC,EAAL,GAAYhB,MAAM,CAACS,OAAP,CAAeO,EAA/B,EAAlB,CAAb,CAEA,GAAIhB,MAAM,CAACS,OAAP,CAAetB,IAAf,GAAwB,KAA5B,CAAmC,CAC/B2D,YAAY,CAAGA,YAAY,CAAGxB,UAAU,CAAC1C,IAAI,CAAC,CAAD,CAAJ,CAAQ6C,GAAT,CAAxC,CACAsB,YAAY,CAAGA,YAAY,CAAGzB,UAAU,CAAC1C,IAAI,CAAC,CAAD,CAAJ,CAAQ6C,GAAT,CAAxC,CACA,GAAMI,CAAAA,YAAY,oBACX9B,KAAK,CAACN,aAAN,CAAoBL,GADT,CAAlB,CAIA,GAAM0C,CAAAA,gBAAgB,CAAGD,YAAY,CAACE,GAAb,CAAiB,SAAAC,SAAS,CAAI,CACnD,GAAMC,CAAAA,IAAI,CAAGvD,oBAAoB,CAACsD,SAAS,CAACP,GAAX,CAAgBsB,YAAhB,CAAjC,CACA,MAAOvE,CAAAA,YAAY,CAACwD,SAAD,CAAY,CAC3BC,IAAI,CAAEA,IADqB,CAAZ,CAAnB,CAGH,CALwB,CAAzB,CAMAY,0BAA0B,CAAGrE,YAAY,CAACuB,KAAK,CAACN,aAAP,CAAsB,CAC3DL,GAAG,CAAE0C,gBADsD,CAE3DjD,GAAG,CAAE8D,0BAFsD,CAAtB,CAAzC,CAIH,CAED,GAAI3C,MAAM,CAACS,OAAP,CAAetB,IAAf,GAAwB,KAA5B,CAAmC,CAC/B2D,YAAY,CAAGA,YAAY,CAAGxB,UAAU,CAAC1C,IAAI,CAAC,CAAD,CAAJ,CAAQ6C,GAAT,CAAxC,CACAuB,aAAa,CAAGA,aAAa,CAAG1B,UAAU,CAAC1C,IAAI,CAAC,CAAD,CAAJ,CAAQ6C,GAAT,CAA1C,CACH,CAED,GAAMwB,CAAAA,gBAAgB,CAAGvE,oBAAoB,CAACsE,aAAD,CAAgBD,YAAhB,CAA7C,CAEA,MAAOvE,CAAAA,YAAY,CAACuB,KAAD,CAAQ,CACvBN,aAAa,CAAEoD,0BADQ,CAEvBnD,WAAW,CAAEoD,YAFU,CAGvBnD,WAAW,CAAEoD,YAHU,CAIvBnD,aAAa,CAAEoD,aAJQ,CAKvBnD,eAAe,CAAEoD,gBALM,CAAR,CAAnB,CAOH,CA/CD,CAkDA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACnD,KAAD,CAAQC,MAAR,CAAmB,CACnC,MAAOxB,CAAAA,YAAY,CAACuB,KAAD,CAAQ,CACvBV,WAAW,CAAE,KADU,CAAR,CAAnB,CAGH,CAJD,CAMA,GAAMA,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACU,KAAD,CAAQC,MAAR,CAAmB,CACnC,MAAOxB,CAAAA,YAAY,CAACuB,KAAD,CAAQ,CACvBV,WAAW,CAAE,IADU,CAAR,CAAnB,CAGH,CAJD,CAMA,GAAM8D,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACpD,KAAD,CAAQC,MAAR,CAAmB,CACpC,GAAMoD,CAAAA,KAAK,CAAGrD,KAAK,CAACT,QAApB,CACA,MAAOd,CAAAA,YAAY,CAACuB,KAAD,CAAQ,CACvBT,QAAQ,CAAE,CAAC8D,KADY,CAAR,CAAnB,CAGH,CALD,CAOA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAkC,IAAjCtD,CAAAA,KAAiC,2DAAzBpB,YAAyB,IAAXqB,CAAAA,MAAW,2CAC9C,OAAQA,MAAM,CAACb,IAAf,EACI,IAAKZ,CAAAA,WAAW,CAAC+E,UAAjB,CAA6B,MAAO/C,CAAAA,SAAS,CAACR,KAAD,CAAQC,MAAR,CAAhB,CAE7B,IAAKzB,CAAAA,WAAW,CAACgF,YAAjB,CAA+B,MAAOlE,CAAAA,WAAW,CAACU,KAAD,CAAQC,MAAR,CAAlB,CAE/B,IAAKzB,CAAAA,WAAW,CAACiF,YAAjB,CAA+B,MAAON,CAAAA,WAAW,CAACnD,KAAD,CAAQC,MAAR,CAAlB,CAE/B,IAAKzB,CAAAA,WAAW,CAACkF,cAAjB,CAAiC,MAAON,CAAAA,YAAY,CAACpD,KAAD,CAAQC,MAAR,CAAnB,CAEjC,IAAKzB,CAAAA,WAAW,CAACmF,QAAjB,CAA2B,MAAO5C,CAAAA,OAAO,CAAEf,KAAF,CAASC,MAAT,CAAd,CAE3B,IAAKzB,CAAAA,WAAW,CAACoF,WAAjB,CAA8B,MAAOjB,CAAAA,UAAU,CAAC3C,KAAD,CAAQC,MAAR,CAAjB,CAE9B,QAAS,MAAOD,CAAAA,KAAP,CAbb,CAeH,CAhBD,CAkBA,cAAesD,CAAAA,OAAf","sourcesContent":["import * as actionTypes from '../actions/actionTypes';\nimport { updateObject, checkValidity, percentageCalculator } from '../../Utility/Utility';\n\nconst initialState = {\n        data: { \n            inc: {\n                description: {\n                    value: '',\n                    rules: {\n                        isRequired: true\n                    }\n                },\n                value: {\n                    value: '',\n                    rules: {\n                        isRequired: true,\n                        isNumeric: true\n                    }\n                },\n                type: 'inc'\n            },\n            exp: {\n                description: {\n                    value: '',\n                    rules: {\n                        isRequired: true\n                    }\n                },\n                value: {\n                    value: '',\n                    rules: {\n                        isRequired: true,\n                        isNumeric: true\n                    }\n                },\n                type: 'exp'\n            }\n        },\n        showSummary: false,\n        isIncome: true,\n        event: null,\n        isValid: false,\n        budgetSummary: {\n            inc: [], \n            exp: [],\n        },\n        totalBudget: 0,\n        totalIncome: 0,\n        totalExpenses: 0,\n        totalPercentage: null\n    }\n\nconst clearInputData = (state, action) => {\n    const updatedIncDes = updateObject(state.data.inc.description, {\n        value: ''\n    });\n    const updatedIncVal = updateObject(state.data.inc.value, {\n        value: ''\n    });\n    const updatedInc = updateObject(state.data.inc, {\n        description: updatedIncDes,\n        value: updatedIncVal\n    });\n\n    const updatedExpDes = updateObject(state.data.exp.description, {\n        value: ''\n    });\n    const updatedExpVal = updateObject(state.data.exp.value, {\n        value: ''\n    });\n    const updatedExp = updateObject(state.data.exp, {\n        description: updatedExpDes,\n        value: updatedExpVal\n    });\n\n    return updateObject(state.data, {\n        inc: updatedInc,\n        exp: updatedExp\n    })\n}\n\nconst takeInput = (state, action) => {\n    const updatedIncExpType = updateObject(state.data[action.payLoad.incExp][action.payLoad.type], {\n        value: action.payLoad.event.target.value\n    });\n    const updatedIncExp = updateObject(state.data[action.payLoad.incExp], {\n                [action.payLoad.type]: updatedIncExpType\n    });\n    const updatedData = updateObject(state.data, {\n                [action.payLoad.incExp]: updatedIncExp\n    });\n\n    let isValid = false;\n    if(checkValidity(updatedData[action.payLoad.incExp].description.value, \n                    updatedData[action.payLoad.incExp].description.rules) &&\n        checkValidity(updatedData[action.payLoad.incExp].value.value, \n                    updatedData[action.payLoad.incExp].value.rules)) {\n                    isValid = true;\n    }\n            \n    return updateObject(state, {\n        data: updatedData,\n        event: action.payLoad.event,\n        isValid: isValid\n    });\n}\n\nconst addItem = (state, action) => {\n    action.event.preventDefault();\n    let id;\n    if (state.budgetSummary[action.data.type].length === 0) {\n        id = 0;\n    } else {\n        id = state.budgetSummary[action.data.type][state.budgetSummary[action.data.type].length - 1].id + 1;\n    }\n\n    let budget = state.totalBudget;\n    let income = state.totalIncome;\n    let expense = state.totalExpenses;\n    let updatedBudgetSummary;\n\n    if (action.data.type === 'inc') {\n        budget = budget + parseFloat(action.data.value.value);\n        income = income + parseFloat(action.data.value.value);\n        const incBudget = {\n            des: action.data.description.value, \n            val: parseFloat(action.data.value.value).toFixed(2),\n            id: id\n        };\n        const incBudgetSummary = [\n            ...state.budgetSummary.inc\n        ];\n        incBudgetSummary.push(incBudget);\n\n        const expBudgetArr = [\n            ...state.budgetSummary.exp\n        ];\n\n        let expBudgetSummary;\n        if (expBudgetArr.length) {\n            expBudgetSummary = expBudgetArr.map(expBudget => {\n                const perc = percentageCalculator(expBudget.val, income);\n                return updateObject(expBudget, {\n                    perc: perc\n                });\n            });\n            updatedBudgetSummary = updateObject(state.budgetSummary, {\n                inc: incBudgetSummary,\n                exp: expBudgetSummary\n            });\n        } else {\n            updatedBudgetSummary = updateObject(state.budgetSummary, {\n                inc: incBudgetSummary\n            });\n        }\n    }\n\n    if (action.data.type === 'exp') {\n        budget = budget - parseFloat(action.data.value.value);\n        expense = expense + parseFloat(action.data.value.value);\n        const expBudget = {\n            des: action.data.description.value, \n            val: parseFloat(action.data.value.value).toFixed(2),\n            id: id ,\n            perc: percentageCalculator(action.data.value.value, income)\n        };\n        const expBudgetSummary = [\n            ...state.budgetSummary.exp\n        ];\n        expBudgetSummary.push(expBudget);\n        updatedBudgetSummary = updateObject(state.budgetSummary, {\n            exp: expBudgetSummary\n        });\n    }\n\n    const percentage = percentageCalculator(expense, income);\n\n    Array.from(document.querySelectorAll(\"input\"))\n    .forEach(input => (input.value = null)\n    );\n\n\n    return updateObject(state, {\n        budgetSummary: updatedBudgetSummary,\n        data: clearInputData(state, action),\n        totalBudget: budget,\n        totalIncome: income,\n        totalExpenses: expense,\n        totalPercentage: percentage,\n        isItemAdded: true,\n        isValid: false\n    });\n}\n\nconst removeItem = (state, action) => {\n    const incExp = [\n        ...state.budgetSummary[action.payLoad.type]\n    ];\n    const updatedIncExpSummaryRemove = incExp.filter(data => data.id !== action.payLoad.id);\n    let updatedBudgetSummaryRemove = updateObject(state.budgetSummary, {\n        [action.payLoad.type]: updatedIncExpSummaryRemove\n    });\n\n    let budgetRemove = state.totalBudget;\n    let incomeRemove = state.totalIncome;\n    let expenseRemove = state.totalExpenses;\n    const data = incExp.filter(data => data.id === action.payLoad.id);\n\n    if (action.payLoad.type === 'inc') {\n        budgetRemove = budgetRemove - parseFloat(data[0].val);\n        incomeRemove = incomeRemove - parseFloat(data[0].val);\n        const expBudgetArr = [\n            ...state.budgetSummary.exp\n        ];\n\n        const expBudgetSummary = expBudgetArr.map(expBudget => {\n            const perc = percentageCalculator(expBudget.val, incomeRemove);\n            return updateObject(expBudget, {\n                perc: perc\n            })\n        });\n        updatedBudgetSummaryRemove = updateObject(state.budgetSummary, {\n            exp: expBudgetSummary,\n            inc: updatedIncExpSummaryRemove\n        })\n    }\n\n    if (action.payLoad.type === 'exp') {\n        budgetRemove = budgetRemove + parseFloat(data[0].val);\n        expenseRemove = expenseRemove - parseFloat(data[0].val);\n    }\n\n    const percentageRemove = percentageCalculator(expenseRemove, incomeRemove);\n\n    return updateObject(state, {\n        budgetSummary: updatedBudgetSummaryRemove,\n        totalBudget: budgetRemove,\n        totalIncome: incomeRemove,\n        totalExpenses: expenseRemove,\n        totalPercentage: percentageRemove\n    });\n}\n\n\nconst hideSummary = (state, action) => {\n    return updateObject(state, {\n        showSummary: false\n    });\n}\n\nconst showSummary = (state, action) => {\n    return updateObject(state, {\n        showSummary: true\n    });\n}\n\nconst switchIncExp = (state, action) => {\n    const isInc = state.isIncome;\n    return updateObject(state, {\n        isIncome: !isInc\n    });\n}\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case actionTypes.TAKE_INPUT: return takeInput(state, action);\n\n        case actionTypes.SHOW_SUMMARY: return showSummary(state, action);\n\n        case actionTypes.HIDE_SUMMARY: return hideSummary(state, action);\n\n        case actionTypes.SWITCH_INC_EXP: return switchIncExp(state, action);\n\n        case actionTypes.ADD_iTEM: return addItem (state, action);\n\n        case actionTypes.REMOVE_iTEM: return removeItem(state, action);\n\n        default: return state;\n    }\n}\n\nexport default reducer;"]},"metadata":{},"sourceType":"module"}